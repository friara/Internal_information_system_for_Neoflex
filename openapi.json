{"openapi":"3.1.0","info":{"title":"API Documentation","description":"Documentation for API endpoints","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/workspaces/{id}":{"get":{"tags":["workspace-controller"],"operationId":"getWorkspaceById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkspaceDTO"}}}}}},"put":{"tags":["workspace-controller"],"operationId":"updateWorkspace","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkspaceDTO"}}}}}},"delete":{"tags":["workspace-controller"],"operationId":"deleteWorkspace","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/users/me":{"get":{"tags":["user-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateCurrentUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/posts/{postId}/comments/{commentId}":{"get":{"tags":["comment-controller"],"operationId":"getComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}},"put":{"tags":["comment-controller"],"operationId":"updateComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"deleteComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/posts/{id}":{"get":{"tags":["post-controller"],"operationId":"getPostById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostDTO"}}}}}},"put":{"tags":["post-controller"],"operationId":"updatePost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"postDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PostDTO"}},{"name":"files","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostDTO"}}}}}},"delete":{"tags":["post-controller"],"operationId":"deletePost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/messages/{id}":{"get":{"tags":["message-controller"],"operationId":"getMessageById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDTO"}}}}}},"put":{"tags":["message-controller"],"operationId":"updateMessage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"newText","in":"query","required":true,"schema":{"type":"string"}},{"name":"newFiles","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDTO"}}}}}},"delete":{"tags":["message-controller"],"operationId":"deleteMessage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/workspaces":{"get":{"tags":["workspace-controller"],"operationId":"getAllWorkspaces","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkspaceDTO"}}}}}}},"post":{"tags":["workspace-controller"],"operationId":"createWorkspace","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkspaceDTO"}}}}}}},"/api/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"post":{"tags":["user-controller"],"operationId":"adminCreateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/users/me/avatar":{"post":{"tags":["user-controller"],"operationId":"uploadAvatar","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/reposts":{"get":{"tags":["repost-controller"],"operationId":"getAllReposts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RepostDTO"}}}}}}},"post":{"tags":["repost-controller"],"operationId":"createRepost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepostDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RepostDTO"}}}}}}},"/api/posts":{"get":{"tags":["post-controller"],"operationId":"getAllPosts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostDTO"}}}}}}},"post":{"tags":["post-controller"],"operationId":"createPost","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"text","in":"query","required":true,"schema":{"type":"string"}},{"name":"files","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostDTO"}}}}}}},"/api/posts/{postId}/likes":{"get":{"tags":["like-controller"],"operationId":"getLikesByPost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageLikeDTO"}}}}}},"post":{"tags":["like-controller"],"operationId":"createLike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LikeDTO"}}}}}}},"/api/posts/{postId}/comments":{"get":{"tags":["comment-controller"],"operationId":"getComments","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDTO"}}}}}}},"post":{"tags":["comment-controller"],"operationId":"createComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}}},"/api/messages":{"get":{"tags":["message-controller"],"operationId":"getAllMessages","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDTO"}}}}}}},"post":{"tags":["message-controller"],"operationId":"createMessage","parameters":[{"name":"text","in":"query","required":true,"schema":{"type":"string"}},{"name":"files","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}},{"name":"chatId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDTO"}}}}}}},"/api/chats":{"get":{"tags":["chat-controller"],"operationId":"getAllChats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatDTO"}}}}}}},"post":{"tags":["chat-controller"],"operationId":"createChat","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatDTO"}}}}}}},"/api/bookings":{"get":{"tags":["booking-controller"],"operationId":"getAllBookings","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBookingDTO"}}}}}},"post":{"tags":["booking-controller"],"operationId":"createBooking","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}}}}}},"/api/workspaces/available":{"get":{"tags":["workspace-controller"],"operationId":"getAvailableWorkspaces","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkspaceDTO"}}}}}}}},"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"delete":{"tags":["user-controller"],"operationId":"adminDeleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/users/search":{"get":{"tags":["user-controller"],"operationId":"searchByFIO","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageUserDTO"}}}}}}},"/api/reposts/{id}":{"get":{"tags":["repost-controller"],"operationId":"getRepostById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RepostDTO"}}}}}},"delete":{"tags":["repost-controller"],"operationId":"deleteRepost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/posts/{postId}/likes/count":{"get":{"tags":["like-controller"],"operationId":"getLikesCount","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/posts/{postId}/comments/count":{"get":{"tags":["comment-controller"],"operationId":"getCommentCount","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/media/{filename}":{"get":{"tags":["media-controller"],"operationId":"downloadMedia","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/files/{filename}":{"get":{"tags":["file-controller"],"operationId":"downloadFile","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/chats/{id}":{"get":{"tags":["chat-controller"],"operationId":"getChatById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatDTO"}}}}}},"delete":{"tags":["chat-controller"],"operationId":"deleteChat","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/bookings/{id}":{"get":{"tags":["booking-controller"],"operationId":"getBookingById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}}}}},"delete":{"tags":["booking-controller"],"operationId":"deleteBooking","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/bookings/availability/{workspaceId}":{"get":{"tags":["booking-controller"],"operationId":"checkAvailability","parameters":[{"name":"workspaceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"date-time"}}}}}}}},"/api/posts/{postId}/likes/{userId}":{"delete":{"tags":["like-controller"],"operationId":"deleteLike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content"}}}}},"components":{"schemas":{"WorkspaceDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"available":{"type":"boolean"}}},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"login":{"type":"string"},"role":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"patronymic":{"type":"string"},"appointment":{"type":"string"},"birthday":{"type":"string","format":"date"},"avatarUrl":{"type":"string"},"phoneNumber":{"type":"string"}}},"CommentDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdWhen":{"type":"string","format":"date-time"},"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"text":{"type":"string"},"answerToComm":{"type":"string"}}},"MediaDTO":{"type":"object","description":"DTO для представления медиа-вложений","properties":{"id":{"type":"integer","format":"int64","description":"Уникальный идентификатор медиа","example":123},"mediaType":{"type":"string","description":"Тип медиа-контента","enum":["IMAGE","VIDEO","AUDIO","DOCUMENT","ARCHIVE","OTHER"],"example":"IMAGE"},"mimeType":{"type":"string","description":"MIME-тип файла","example":"image/png"},"fileName":{"type":"string","description":"Оригинальное имя файла","example":"cat.png"},"downloadUrl":{"type":"string","description":"URL для скачивания файла","example":"/api/media/123"},"fileSize":{"type":"integer","format":"int64","description":"Размер файла в байтах","example":204800},"uploadedWhen":{"type":"string","format":"date-time","description":"Дата и время загрузки","example":"2023-07-20T15:30:00"},"postId":{"type":"integer","format":"int64","description":"ID связанного поста","example":456}}},"PostDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdWhen":{"type":"string","format":"date-time"},"title":{"type":"string"},"text":{"type":"string"},"mediaUrls":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}},"userId":{"type":"integer","format":"int64"}}},"FileDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fileName":{"type":"string"},"fileUrl":{"type":"string"},"fileType":{"type":"string"},"uploadedWhen":{"type":"string","format":"date-time"},"uploadedBy":{"type":"integer","format":"int64"},"messageId":{"type":"integer","format":"int64"}}},"MessageDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdWhen":{"type":"string","format":"date-time"},"text":{"type":"string"},"status":{"type":"string"},"chatId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"files":{"type":"array","items":{"$ref":"#/components/schemas/FileDTO"}}}},"UserCreateRequestDTO":{"type":"object","properties":{"login":{"type":"string"},"role":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"patronymic":{"type":"string"},"appointment":{"type":"string"},"birthday":{"type":"string","format":"date"},"phoneNumber":{"type":"string"},"password":{"type":"string","maxLength":2147483647,"minLength":8}}},"RepostDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"targetChatId":{"type":"integer","format":"int64"}}},"LikeDTO":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"}}},"ChatDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"chatType":{"type":"string"},"chatName":{"type":"string"},"createdWhen":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"}}},"BookingDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"workspaceId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"bookingStart":{"type":"string","format":"date-time"},"bookingEnd":{"type":"string","format":"date-time"},"createdWhen":{"type":"string","format":"date-time"}}},"PageUserDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"PageLikeDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/LikeDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageBookingDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BookingDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}}}}}